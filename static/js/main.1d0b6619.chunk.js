(this["webpackJsonpalbum-image-carousel"]=this["webpackJsonpalbum-image-carousel"]||[]).push([[0],[,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c,i=n(1),r=n.n(i),a=n(4),s=n.n(a),o=(n(9),n(2)),u=new WeakMap;function l(e){e.forEach((function(e){if(u.has(e.target)){var t=u.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(c.unobserve(e.target),u.delete(e.target),t())}}))}function d(){return void 0===c&&(c=new IntersectionObserver(l,{rootMargin:"100px",threshold:"0.15"})),c}n(10);var f=n(0);var j=function(e){var t,n,c=e.id,a=e.title,s=e.userId,l=e.imagesPerRow,j=Object(i.useState)([]),h=Object(o.a)(j,2),b=h[0],m=h[1],g=Object(i.useState)(0),v=Object(o.a)(g,2),O=v[0],w=v[1],p=r.a.useRef();return t=p,n=function(){fetch("https://jsonplaceholder.typicode.com/photos?albumId=".concat(c)).then((function(e){return e.json()})).then((function(e){m(e),w(1)})).catch((function(e){console.error(e)}))},Object(i.useEffect)((function(){var e=t.current,c=d();return u.set(e,n),c.observe(e),function(){u.delete(e),c.unobserve(e)}}),[]),Object(f.jsxs)("div",{className:"albumContainer",ref:p,children:[Object(f.jsx)("div",{className:"titleSection",children:a}),Object(f.jsxs)("div",{className:"infoSection",children:["id: ",c,", userId: ",s]}),Object(f.jsxs)("div",{className:"carouselContainer",children:[Object(f.jsx)("div",{className:"leftArrow ".concat(1===O||0===O?"arrowDisabled":""),onClick:function(){w((function(e){return e-1}))}}),Object(f.jsx)("div",{className:"imagesSection",style:{justifyContent:O===Math.ceil(b.length/l)?"flex-start":"space-between"},children:0!==O&&0!==b.length&&b.slice(l*(O-1),Math.min(l*O,b.length)).map((function(e){return Object(f.jsxs)("div",{className:"imageSection",children:[Object(f.jsx)("img",{src:e.url,className:"imageContainer"}),Object(f.jsx)("div",{className:"imageTitle",children:e.title}),Object(f.jsxs)("div",{className:"imageId",children:["id: ",e.id]})]},"album-".concat(c,"-image-").concat(e.id))}))}),Object(f.jsx)("div",{className:"rightArrow ".concat(O===Math.ceil(b.length/l)||0===b.length?"arrowDisabled":""),onClick:function(){w((function(e){return e+1}))}})]})]})};n(12);var h=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=function(){var e=Object(i.useState)(1),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(i.useLayoutEffect)((function(){function e(){c(Math.floor((window.innerWidth-90)/200))}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Math.max(n,1)}();return Object(i.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/albums").then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){alert("Something went wrong. Please try after some time"),console.error(e)}))}),[]),Object(f.jsx)("div",{className:"App",children:n.map((function(e){return Object(f.jsx)("div",{className:"albumRow",children:Object(f.jsx)(j,{id:e.id,title:e.title,userId:e.userId,imagesPerRow:r})},"album-".concat(e.id))}))})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(h,{})}),document.getElementById("root")),b()}],[[13,1,2]]]);
//# sourceMappingURL=main.1d0b6619.chunk.js.map